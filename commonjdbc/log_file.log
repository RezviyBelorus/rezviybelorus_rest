2017-10-10 10:44:35 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-10 10:44:35 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 10:44:35 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 10:44:35 MSK 2017]; root of context hierarchy
2017-10-10 10:44:36 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 10:44:36 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 10:44:36 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 10:44:36 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 10:44:36 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 10:44:37 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@3eb738bb] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 10:44:37 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@72ba28ee testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3a5237, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@705202d1 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@75504cef]; rollback [true]
2017-10-10 10:44:37 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 10:44:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@72ba28ee testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3a5237, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@705202d1 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 10:44:38 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 10:44:35 MSK 2017]; root of context hierarchy
2017-10-10 10:56:35 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 10:56:35 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 10:56:35 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 10:56:36 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 10:56:36 MSK 2017]; root of context hierarchy
2017-10-10 10:56:36 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 10:56:36 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 10:56:36 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 10:56:36 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 10:56:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 10:56:38 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 10:56:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 10:56:38 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 10:56:38 ERROR ErrorCounter:60 - line 1:44: unexpected token: :
2017-10-10 10:56:38 ERROR ErrorCounter:55 - line 1:44: unexpected token: :
line 1:44: unexpected token: :
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClassOrOuterQueryPath(HqlBaseParser.java:1972)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromRange(HqlBaseParser.java:1499)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClause(HqlBaseParser.java:1343)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1063)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:77)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)
	at kinoview.commonjdbc.dao.FilmDAO.findRange(FilmDAO.java:139)
	at kinoview.commonjdbc.dao.FilmDAOTest.shouldFindRange(FilmDAOTest.java:158)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-10 10:56:38 ERROR ErrorCounter:60 - line 1:53: unexpected token: :
2017-10-10 10:56:38 ERROR ErrorCounter:55 - line 1:53: unexpected token: :
line 1:53: unexpected token: :
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromRange(HqlBaseParser.java:1519)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClause(HqlBaseParser.java:1363)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1063)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:77)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)
	at kinoview.commonjdbc.dao.FilmDAO.findRange(FilmDAO.java:139)
	at kinoview.commonjdbc.dao.FilmDAOTest.shouldFindRange(FilmDAOTest.java:158)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-10 10:56:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: : near line 1, column 44 [from kinoview.commonjdbc.entity.Film Limit :offset, :limit], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 10:56:38 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 10:56:36 MSK 2017]; root of context hierarchy
2017-10-10 10:57:06 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 10:57:06 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-10 10:57:07 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 10:57:07 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 10:57:07 MSK 2017]; root of context hierarchy
2017-10-10 10:57:07 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 10:57:08 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 10:57:08 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 10:57:08 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 10:57:08 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 10:57:09 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@3eb738bb] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 10:57:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@72ba28ee testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3a5237, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@705202d1 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@75504cef]; rollback [true]
2017-10-10 10:57:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@72ba28ee testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3a5237, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@705202d1 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 10:57:09 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 10:57:07 MSK 2017]; root of context hierarchy
2017-10-10 10:57:31 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 10:57:31 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 10:57:31 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 10:57:32 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 10:57:32 MSK 2017]; root of context hierarchy
2017-10-10 10:57:32 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 10:57:32 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 10:57:32 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 10:57:32 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 10:57:33 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 10:57:34 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 10:57:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 10:57:47 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 10:57:47 ERROR ErrorCounter:60 - line 1:44: unexpected token: :
2017-10-10 10:57:47 ERROR ErrorCounter:55 - line 1:44: unexpected token: :
line 1:44: unexpected token: :
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClassOrOuterQueryPath(HqlBaseParser.java:1972)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromRange(HqlBaseParser.java:1499)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClause(HqlBaseParser.java:1343)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1063)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:77)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)
	at kinoview.commonjdbc.dao.FilmDAO.findRange(FilmDAO.java:139)
	at kinoview.commonjdbc.dao.FilmDAOTest.shouldFindRange(FilmDAOTest.java:158)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-10 10:57:47 ERROR ErrorCounter:60 - line 1:53: unexpected token: :
2017-10-10 10:57:47 ERROR ErrorCounter:55 - line 1:53: unexpected token: :
line 1:53: unexpected token: :
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromRange(HqlBaseParser.java:1519)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClause(HqlBaseParser.java:1363)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1063)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:77)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)
	at kinoview.commonjdbc.dao.FilmDAO.findRange(FilmDAO.java:139)
	at kinoview.commonjdbc.dao.FilmDAOTest.shouldFindRange(FilmDAOTest.java:158)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-10 11:00:31 ERROR ErrorCounter:60 - line 1:44: unexpected token: :
2017-10-10 11:00:31 ERROR ErrorCounter:55 - line 1:44: unexpected token: :
line 1:44: unexpected token: :
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClassOrOuterQueryPath(HqlBaseParser.java:1972)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromRange(HqlBaseParser.java:1499)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClause(HqlBaseParser.java:1343)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1063)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:77)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)
	at kinoview.commonjdbc.dao.FilmDAO.findRange(FilmDAO.java:139)
	at kinoview.commonjdbc.dao.FilmDAOTest.shouldFindRange(FilmDAOTest.java:158)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-10 11:00:31 ERROR ErrorCounter:60 - line 1:53: unexpected token: :
2017-10-10 11:00:31 ERROR ErrorCounter:55 - line 1:53: unexpected token: :
line 1:53: unexpected token: :
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromRange(HqlBaseParser.java:1519)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.fromClause(HqlBaseParser.java:1363)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1063)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:77)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:103)
	at kinoview.commonjdbc.dao.FilmDAO.findRange(FilmDAO.java:139)
	at kinoview.commonjdbc.dao.FilmDAOTest.shouldFindRange(FilmDAOTest.java:158)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-10 11:00:31 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: : near line 1, column 44 [from kinoview.commonjdbc.entity.Film Limit :offset, :limit], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:00:31 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 10:57:32 MSK 2017]; root of context hierarchy
2017-10-10 11:02:38 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:02:38 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:02:38 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:02:38 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:02:38 MSK 2017]; root of context hierarchy
2017-10-10 11:02:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:02:39 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:02:39 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:02:39 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:02:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:02:40 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:02:40 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:02:46 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:03:29 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:03:29 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:03:29 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:03:29 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:03:29 MSK 2017]; root of context hierarchy
2017-10-10 11:03:29 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:03:30 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:03:30 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:03:30 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:03:30 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:03:31 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:03:31 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:03:31 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:05:15 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:05:15 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:05:15 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:05:15 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:05:15 MSK 2017]; root of context hierarchy
2017-10-10 11:05:15 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:05:16 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:05:16 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:05:16 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:05:16 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:05:17 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:05:17 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:05:17 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:05:25 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.AssertionError: expected:<5> but was:<1>, mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:05:25 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:05:15 MSK 2017]; root of context hierarchy
2017-10-10 11:06:52 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:06:52 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:06:52 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:06:52 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:06:52 MSK 2017]; root of context hierarchy
2017-10-10 11:06:53 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:06:53 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:06:53 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:06:53 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:06:53 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:06:54 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:06:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:06:55 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:06:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.IllegalArgumentException: Unknown parameter name : offset, mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:06:55 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:06:52 MSK 2017]; root of context hierarchy
2017-10-10 11:07:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.IllegalArgumentException: Unknown parameter name : offset, mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:07:09 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:02:38 MSK 2017]; root of context hierarchy
2017-10-10 11:07:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.AssertionError: expected:<5> but was:<1>, mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:07:09 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:03:29 MSK 2017]; root of context hierarchy
2017-10-10 11:08:30 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:08:30 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:08:30 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:08:31 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:08:31 MSK 2017]; root of context hierarchy
2017-10-10 11:08:31 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:08:31 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:08:31 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:08:31 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:08:32 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:08:33 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:08:33 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:08:33 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:09:04 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.AssertionError: expected:<5> but was:<0>, mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:09:04 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:08:31 MSK 2017]; root of context hierarchy
2017-10-10 11:09:41 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:09:41 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:09:41 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:09:42 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:09:42 MSK 2017]; root of context hierarchy
2017-10-10 11:09:42 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:09:43 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:09:43 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:09:43 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:09:43 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:09:45 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:09:45 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@1eff3cfb testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@70c69586, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6d60899e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4693a9ef]; rollback [true]
2017-10-10 11:09:45 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:11:30 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@1eff3cfb testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@70c69586, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.AssertionError: expected:<5> but was:<1>, mergedContextConfiguration = [MergedContextConfiguration@6d60899e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:11:30 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:09:42 MSK 2017]; root of context hierarchy
2017-10-10 11:11:44 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:11:44 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:11:44 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:11:44 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:11:44 MSK 2017]; root of context hierarchy
2017-10-10 11:11:45 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:11:45 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:11:45 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:11:45 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:11:45 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:11:46 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:11:47 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:11:47 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:12:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = java.lang.AssertionError: expected:<5> but was:<2>, mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:12:08 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:11:44 MSK 2017]; root of context hierarchy
2017-10-10 11:14:13 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:14:13 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-10 11:14:14 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:14:14 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 11:14:14 MSK 2017]; root of context hierarchy
2017-10-10 11:14:15 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:14:15 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:14:15 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:14:15 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:14:15 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:14:16 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@3eb738bb] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:14:16 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@72ba28ee testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3a5237, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@705202d1 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@75504cef]; rollback [true]
2017-10-10 11:14:16 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:14:16 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@72ba28ee testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3a5237, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@705202d1 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:14:16 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 11:14:14 MSK 2017]; root of context hierarchy
2017-10-10 11:18:40 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:18:40 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:18:41 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:18:41 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:18:41 MSK 2017]; root of context hierarchy
2017-10-10 11:18:41 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:18:41 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:18:41 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:18:42 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:18:42 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:18:43 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:18:43 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:18:43 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = org.hibernate.UnknownEntityTypeException: Unable to locate persister: from films, mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:18:43 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:18:41 MSK 2017]; root of context hierarchy
2017-10-10 11:19:00 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:19:00 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-10 11:19:00 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:19:01 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 11:19:01 MSK 2017]; root of context hierarchy
2017-10-10 11:19:01 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:19:01 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:19:01 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:19:01 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:19:02 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:19:03 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@3eb738bb] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:19:03 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@72ba28ee testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3a5237, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@705202d1 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@75504cef]; rollback [true]
2017-10-10 11:19:03 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@72ba28ee testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3a5237, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = org.hibernate.UnknownEntityTypeException: Unable to locate persister: from Film, mergedContextConfiguration = [MergedContextConfiguration@705202d1 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:19:03 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 11:19:01 MSK 2017]; root of context hierarchy
2017-10-10 11:19:21 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:19:21 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:19:21 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:19:21 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:19:21 MSK 2017]; root of context hierarchy
2017-10-10 11:19:22 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:19:22 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:19:22 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:19:22 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:19:22 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:19:23 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:19:24 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:19:24 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = org.hibernate.UnknownEntityTypeException: Unable to locate persister: from Film, mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:19:24 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:19:21 MSK 2017]; root of context hierarchy
2017-10-10 11:20:58 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:20:58 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:20:58 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:20:58 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:20:58 MSK 2017]; root of context hierarchy
2017-10-10 11:20:58 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:20:58 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:20:58 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:20:58 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:20:59 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:21:00 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:21:00 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:21:00 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:21:11 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:21:11 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:20:58 MSK 2017]; root of context hierarchy
2017-10-10 11:22:04 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 11:22:04 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 11:22:04 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 11:22:05 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:22:05 MSK 2017]; root of context hierarchy
2017-10-10 11:22:05 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 11:22:05 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 11:22:05 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 11:22:05 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 11:22:05 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 11:22:06 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@61a88b8c] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 11:22:06 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@310aee0b]; rollback [true]
2017-10-10 11:22:15 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 11:22:20 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@70c69586 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dc1dc69, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@65eb76cd testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 11:22:20 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 11:22:05 MSK 2017]; root of context hierarchy
2017-10-10 12:27:06 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 12:27:06 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 12:27:06 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 12:27:07 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 12:27:07 MSK 2017]; root of context hierarchy
2017-10-10 12:27:07 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 12:27:07 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 12:27:07 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 12:27:07 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 12:27:08 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 12:27:09 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@22295ec4] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 12:27:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@6dc1dc69 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7e9f2c32, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6415f61e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@36327cec]; rollback [true]
2017-10-10 12:27:15 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 12:29:11 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@6dc1dc69 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7e9f2c32, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6415f61e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 12:29:11 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 12:27:07 MSK 2017]; root of context hierarchy
2017-10-10 13:03:58 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 13:03:58 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-10 13:04:12 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 13:04:12 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-10 13:04:12 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 13:04:13 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:04:13 MSK 2017]; root of context hierarchy
2017-10-10 13:04:13 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 13:04:14 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 13:04:14 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 13:04:14 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 13:04:14 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 13:04:15 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 13:04:15 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 13:04:15 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = java.lang.IllegalArgumentException: Unknown entity: java.lang.Class, mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 13:04:15 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:04:13 MSK 2017]; root of context hierarchy
2017-10-10 13:04:42 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 13:04:42 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-10 13:04:42 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 13:04:42 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:04:42 MSK 2017]; root of context hierarchy
2017-10-10 13:04:43 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 13:04:43 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 13:04:43 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 13:04:43 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 13:04:43 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 13:04:44 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 13:04:44 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 13:04:45 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = java.lang.IllegalArgumentException: Unknown entity: java.lang.Class, mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 13:04:45 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:04:42 MSK 2017]; root of context hierarchy
2017-10-10 13:05:39 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 13:05:39 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-10 13:05:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 13:05:40 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:05:40 MSK 2017]; root of context hierarchy
2017-10-10 13:05:40 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 13:05:40 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 13:05:40 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 13:05:40 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 13:05:41 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 13:05:42 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 13:05:42 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 13:05:42 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = java.lang.IllegalArgumentException: Unknown entity: java.lang.Class, mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 13:05:42 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:05:40 MSK 2017]; root of context hierarchy
2017-10-10 13:06:43 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 13:06:43 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-10 13:06:43 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 13:06:43 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:06:43 MSK 2017]; root of context hierarchy
2017-10-10 13:06:44 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 13:06:44 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 13:06:44 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 13:06:44 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 13:06:44 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 13:06:45 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 13:06:45 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 13:06:45 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 13:06:46 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: films is not mapped [delete from films], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 13:06:46 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:06:43 MSK 2017]; root of context hierarchy
2017-10-10 13:07:14 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 13:07:14 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-10 13:07:14 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 13:07:14 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:07:14 MSK 2017]; root of context hierarchy
2017-10-10 13:07:15 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 13:07:15 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 13:07:15 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 13:07:15 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 13:07:15 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 13:07:17 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 13:07:17 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 13:07:17 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 13:07:17 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 13:07:17 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:07:14 MSK 2017]; root of context hierarchy
2017-10-10 13:07:45 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 13:07:45 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-10 13:07:45 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 13:07:45 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:07:45 MSK 2017]; root of context hierarchy
2017-10-10 13:07:46 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 13:07:46 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 13:07:46 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 13:07:46 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 13:07:46 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 13:07:47 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 13:07:47 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [false]
2017-10-10 13:07:47 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-10 13:07:48 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldClearDatabase@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 13:07:48 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6adede5: startup date [Tue Oct 10 13:07:45 MSK 2017]; root of context hierarchy
2017-10-10 16:46:36 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 16:46:36 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 16:46:36 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 16:46:36 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 16:46:36 MSK 2017]; root of context hierarchy
2017-10-10 16:46:36 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 16:46:37 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 16:46:37 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 16:46:37 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 16:46:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 16:46:38 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5adb0db3] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 16:46:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@7e9f2c32 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@19e0dffe, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@334ebcaa testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@410ae5ac]; rollback [false]
2017-10-10 16:47:02 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 16:46:36 MSK 2017]; root of context hierarchy
2017-10-10 16:49:49 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 16:49:49 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5d740a0f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@214b199c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@20d3d15a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2893de87, org.springframework.test.context.transaction.TransactionalTestExecutionListener@55ca8de8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2c34f934]
2017-10-10 16:49:50 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 16:49:50 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@3f197a46: startup date [Tue Oct 10 16:49:50 MSK 2017]; root of context hierarchy
2017-10-10 16:49:50 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 16:49:50 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 16:49:50 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 16:49:50 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 16:49:51 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 16:49:52 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@22295ec4] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 16:49:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@6dc1dc69 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7e9f2c32, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6415f61e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@36327cec]; rollback [true]
2017-10-10 16:51:03 WARN  SqlExceptionHelper:129 - SQL Error: 1366, SQLState: HY000
2017-10-10 16:51:03 ERROR SqlExceptionHelper:131 - Incorrect string value: '\xD0\xA0\xD0\xBE\xD1\x81...' for column 'country_name' at row 1
2017-10-10 16:51:29 ERROR AssertionFailure:31 - HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Country entry (don't flush the Session after an exception occurs)
2017-10-10 16:51:52 ERROR AssertionFailure:31 - HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Country entry (don't flush the Session after an exception occurs)
2017-10-10 16:51:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@6dc1dc69 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7e9f2c32, testMethod = shouldSaveBatch@FilmDAOTest, testException = org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Country entry (don't flush the Session after an exception occurs), mergedContextConfiguration = [MergedContextConfiguration@6415f61e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 16:51:52 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@3f197a46: startup date [Tue Oct 10 16:49:50 MSK 2017]; root of context hierarchy
2017-10-10 16:52:25 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 16:52:25 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@12843fce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dd3bcd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@97e1986, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26f67b76, org.springframework.test.context.transaction.TransactionalTestExecutionListener@153f5a29, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f560810]
2017-10-10 16:52:25 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 16:52:25 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 16:52:25 MSK 2017]; root of context hierarchy
2017-10-10 16:52:26 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 16:52:26 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 16:52:26 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 16:52:26 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 16:52:26 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 16:52:27 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 16:52:27 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 16:52:27 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 16:52:27 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 16:52:25 MSK 2017]; root of context hierarchy
2017-10-10 16:52:42 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 16:52:42 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@12843fce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dd3bcd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@97e1986, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26f67b76, org.springframework.test.context.transaction.TransactionalTestExecutionListener@153f5a29, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f560810]
2017-10-10 16:52:42 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 16:52:42 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 16:52:42 MSK 2017]; root of context hierarchy
2017-10-10 16:52:42 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 16:52:43 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 16:52:43 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 16:52:43 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 16:52:43 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 16:52:44 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 16:52:44 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 16:52:44 WARN  SqlExceptionHelper:129 - SQL Error: 1366, SQLState: HY000
2017-10-10 16:52:44 ERROR SqlExceptionHelper:131 - Incorrect string value: '\xD0\xA0\xD0\xBE\xD1\x81...' for column 'country_name' at row 1
2017-10-10 16:52:44 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSaveBatch@FilmDAOTest, testException = org.hibernate.exception.GenericJDBCException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 16:52:44 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 16:52:42 MSK 2017]; root of context hierarchy
2017-10-10 16:57:58 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 16:57:58 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@12843fce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dd3bcd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@97e1986, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26f67b76, org.springframework.test.context.transaction.TransactionalTestExecutionListener@153f5a29, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f560810]
2017-10-10 16:57:58 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 16:57:59 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 16:57:59 MSK 2017]; root of context hierarchy
2017-10-10 16:57:59 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 16:57:59 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 16:57:59 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 16:57:59 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 16:58:00 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 16:58:00 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 16:58:01 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 16:58:01 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 16:58:01 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 16:57:59 MSK 2017]; root of context hierarchy
2017-10-10 17:03:01 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 17:03:01 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@12843fce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dd3bcd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@97e1986, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26f67b76, org.springframework.test.context.transaction.TransactionalTestExecutionListener@153f5a29, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f560810]
2017-10-10 17:03:01 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 17:03:01 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 17:03:01 MSK 2017]; root of context hierarchy
2017-10-10 17:03:02 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 17:03:02 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 17:03:02 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 17:03:02 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 17:03:02 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 17:03:03 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 17:03:04 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 17:03:04 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 17:03:04 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 17:03:01 MSK 2017]; root of context hierarchy
2017-10-10 17:03:26 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 17:03:26 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-10 17:03:26 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 17:03:26 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 17:03:26 MSK 2017]; root of context hierarchy
2017-10-10 17:03:27 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 17:03:27 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 17:03:27 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 17:03:27 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 17:03:28 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 17:03:29 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 17:03:29 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-10 17:03:29 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 17:03:29 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Tue Oct 10 17:03:26 MSK 2017]; root of context hierarchy
2017-10-10 17:06:09 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 17:06:09 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55ca8de8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c34f934, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12d3a4e9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@240237d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25a65b77, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ed0fbae]
2017-10-10 17:06:09 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 17:06:10 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 17:06:10 MSK 2017]; root of context hierarchy
2017-10-10 17:06:10 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 17:06:10 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 17:06:10 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 17:06:10 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 17:06:11 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 17:06:12 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5adb0db3] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 17:06:12 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@7e9f2c32 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@19e0dffe, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@334ebcaa testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@410ae5ac]; rollback [false]
2017-10-10 17:06:12 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@7e9f2c32 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@19e0dffe, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@334ebcaa testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 17:06:12 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@6ca8564a: startup date [Tue Oct 10 17:06:10 MSK 2017]; root of context hierarchy
2017-10-10 21:05:52 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-10 21:05:52 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@12843fce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dd3bcd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@97e1986, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26f67b76, org.springframework.test.context.transaction.TransactionalTestExecutionListener@153f5a29, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f560810]
2017-10-10 21:05:52 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-10 21:05:53 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 21:05:53 MSK 2017]; root of context hierarchy
2017-10-10 21:05:53 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-10 21:05:54 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-10 21:05:54 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-10 21:05:54 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-10 21:05:54 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-10 21:05:55 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-10 21:05:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-10 21:05:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-10 21:05:55 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Tue Oct 10 21:05:53 MSK 2017]; root of context hierarchy
2017-10-11 10:07:39 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:07:39 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:07:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:07:40 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:07:40 MSK 2017]; root of context hierarchy
2017-10-11 10:07:40 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:07:40 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:07:40 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:07:40 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:07:40 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:07:41 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:07:41 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:07:42 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-11 10:07:42 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'genre_type_genre_name_uindex'
2017-10-11 10:07:42 ERROR AssertionFailure:31 - HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)
2017-10-11 10:07:42 ERROR ExceptionMapperStandardImpl:39 - HHH000346: Error during managed flush [null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)]
2017-10-11 10:07:42 WARN  TestContextManager:323 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474] to process 'after' execution for test: method [public void kinoview.commonjdbc.dao.FilmDAOTest.shouldSave() throws java.lang.Exception], instance [kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84], exception [org.hibernate.exception.ConstraintViolationException: could not execute statement]
org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:60)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:135)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:216)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:85)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:38)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3207)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2413)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:609)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)
	at org.springframework.test.context.transaction.TransactionContext.endTransaction(TransactionContext.java:128)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:227)
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:319)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-11 10:07:42 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:07:40 MSK 2017]; root of context hierarchy
2017-10-11 10:08:11 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:08:11 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:08:11 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:08:11 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:08:11 MSK 2017]; root of context hierarchy
2017-10-11 10:08:12 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:08:12 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:08:12 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:08:12 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:08:12 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:08:13 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:08:13 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:08:13 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-11 10:08:13 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'genre_type_genre_name_uindex'
2017-10-11 10:08:13 ERROR AssertionFailure:31 - HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)
2017-10-11 10:08:13 ERROR ExceptionMapperStandardImpl:39 - HHH000346: Error during managed flush [null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)]
2017-10-11 10:08:13 WARN  TestContextManager:323 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474] to process 'after' execution for test: method [public void kinoview.commonjdbc.dao.FilmDAOTest.shouldSave() throws java.lang.Exception], instance [kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84], exception [org.hibernate.exception.ConstraintViolationException: could not execute statement]
org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:60)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:135)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:216)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:85)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:38)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3207)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2413)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:609)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)
	at org.springframework.test.context.transaction.TransactionContext.endTransaction(TransactionContext.java:128)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:227)
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:319)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-11 10:08:13 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:08:11 MSK 2017]; root of context hierarchy
2017-10-11 10:08:37 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:08:37 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:08:37 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:08:38 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:08:38 MSK 2017]; root of context hierarchy
2017-10-11 10:08:38 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:08:38 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:08:38 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:08:38 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:08:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:08:40 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:08:40 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:08:40 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-11 10:08:40 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'genre_type_genre_name_uindex'
2017-10-11 10:08:40 ERROR AssertionFailure:31 - HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)
2017-10-11 10:08:40 ERROR ExceptionMapperStandardImpl:39 - HHH000346: Error during managed flush [null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)]
2017-10-11 10:08:40 WARN  TestContextManager:323 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474] to process 'after' execution for test: method [public void kinoview.commonjdbc.dao.FilmDAOTest.shouldSave() throws java.lang.Exception], instance [kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84], exception [org.hibernate.exception.ConstraintViolationException: could not execute statement]
org.hibernate.AssertionFailure: null id in kinoview.commonjdbc.entity.Genre entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:60)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:135)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:216)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:85)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:38)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1437)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3207)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2413)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:156)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:609)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)
	at org.springframework.test.context.transaction.TransactionContext.endTransaction(TransactionContext.java:128)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:227)
	at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:319)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
2017-10-11 10:08:40 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:08:38 MSK 2017]; root of context hierarchy
2017-10-11 10:12:12 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:12:12 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:12:12 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:12:13 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:12:13 MSK 2017]; root of context hierarchy
2017-10-11 10:12:13 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:12:13 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:12:13 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:12:13 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:12:14 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:12:15 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:12:15 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:12:15 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-11 10:12:15 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:12:13 MSK 2017]; root of context hierarchy
2017-10-11 10:14:19 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:14:19 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:14:19 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:14:19 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:14:19 MSK 2017]; root of context hierarchy
2017-10-11 10:14:20 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:14:20 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:14:20 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:14:20 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:14:21 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:14:22 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:14:22 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:14:22 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-11 10:14:22 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:14:19 MSK 2017]; root of context hierarchy
2017-10-11 10:15:22 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:15:22 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:15:22 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:15:22 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:15:22 MSK 2017]; root of context hierarchy
2017-10-11 10:15:22 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:15:23 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:15:23 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:15:23 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:15:23 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:15:24 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:15:24 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:15:24 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-11 10:15:24 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:15:22 MSK 2017]; root of context hierarchy
2017-10-11 10:19:27 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:19:27 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@12843fce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dd3bcd, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@97e1986, org.springframework.test.context.support.DirtiesContextTestExecutionListener@26f67b76, org.springframework.test.context.transaction.TransactionalTestExecutionListener@153f5a29, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f560810]
2017-10-11 10:19:28 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:19:28 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Wed Oct 11 10:19:28 MSK 2017]; root of context hierarchy
2017-10-11 10:19:28 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:19:29 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:19:29 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:19:29 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:19:29 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:19:30 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@5bda8e08] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:19:30 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@6c8a68c1]; rollback [true]
2017-10-11 10:19:30 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ebadd3d, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3c443976 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-11 10:19:30 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@4bec1f0c: startup date [Wed Oct 11 10:19:28 MSK 2017]; root of context hierarchy
2017-10-11 10:19:47 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:19:47 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:19:47 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:19:47 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:19:47 MSK 2017]; root of context hierarchy
2017-10-11 10:19:48 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:19:48 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:19:48 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:19:48 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:19:48 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:19:49 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:19:49 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:19:49 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-11 10:19:49 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:19:47 MSK 2017]; root of context hierarchy
2017-10-11 10:21:03 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:21:03 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:21:04 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:21:04 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:21:04 MSK 2017]; root of context hierarchy
2017-10-11 10:21:04 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:21:04 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:21:04 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:21:05 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:21:05 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:21:06 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:21:06 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:21:06 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-11 10:21:06 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:21:04 MSK 2017]; root of context hierarchy
2017-10-11 10:24:48 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-11 10:24:48 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@153f5a29, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f560810, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13a57a3b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ca48474, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@337d0578]
2017-10-11 10:24:48 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-11 10:24:48 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:24:48 MSK 2017]; root of context hierarchy
2017-10-11 10:24:49 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-11 10:24:49 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-11 10:24:49 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-11 10:24:49 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-11 10:24:49 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-11 10:24:51 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@1e800aaa] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-11 10:24:51 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@56193c7d]; rollback [false]
2017-10-11 10:24:51 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@4ebadd3d testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6ac97b84, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3e58d65e testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-11 10:24:51 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2d928643: startup date [Wed Oct 11 10:24:48 MSK 2017]; root of context hierarchy
2017-10-17 10:20:33 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:20:33 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3532ec19, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@68c4039c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ae45eb6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59f99ea, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27efef64, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6f7fd0e6]
2017-10-17 10:20:33 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:34 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@ff5b51f: startup date [Tue Oct 17 10:20:34 MSK 2017]; root of context hierarchy
2017-10-17 10:20:34 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:34 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:20:34 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:20:34 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:20:35 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:35 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:35 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:35 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:35 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:35 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:35 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ae45eb6] to prepare test instance [kinoview.commonjdbc.dao.CountryDAOTest@71e9a896]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:35 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:35 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@24f43aa3: startup date [Tue Oct 17 10:20:35 MSK 2017]; root of context hierarchy
2017-10-17 10:20:35 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:35 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:35 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:35 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:35 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:35 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:35 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:35 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ae45eb6] to prepare test instance [kinoview.commonjdbc.dao.CountryDAOTest@772485dd]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:35 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:35 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@492fc69e: startup date [Tue Oct 17 10:20:35 MSK 2017]; root of context hierarchy
2017-10-17 10:20:35 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:36 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:36 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:36 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:36 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:36 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:36 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:36 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ae45eb6] to prepare test instance [kinoview.commonjdbc.dao.CountryDAOTest@7f34a967]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:36 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:36 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@503fbbc6: startup date [Tue Oct 17 10:20:36 MSK 2017]; root of context hierarchy
2017-10-17 10:20:36 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:36 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:36 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:36 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:36 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:36 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:36 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:36 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ae45eb6] to prepare test instance [kinoview.commonjdbc.dao.CountryDAOTest@faa3fed]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:36 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:36 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6f8d7714: startup date [Tue Oct 17 10:20:36 MSK 2017]; root of context hierarchy
2017-10-17 10:20:36 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:36 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:36 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:36 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:36 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:36 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:36 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:36 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ae45eb6] to prepare test instance [kinoview.commonjdbc.dao.CountryDAOTest@6443b128]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:36 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:20:36 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@afb5821, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4bff2185, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7fedfe27, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2f879bab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1d4664d7]
2017-10-17 10:20:36 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:36 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2d66530f: startup date [Tue Oct 17 10:20:36 MSK 2017]; root of context hierarchy
2017-10-17 10:20:36 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:36 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:36 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:36 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:36 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:36 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:36 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:36 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@562c877a]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:36 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:36 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@383f1975: startup date [Tue Oct 17 10:20:36 MSK 2017]; root of context hierarchy
2017-10-17 10:20:37 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:37 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:37 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:37 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:37 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:37 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@723ed581]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:37 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:37 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@3b7b05a8: startup date [Tue Oct 17 10:20:37 MSK 2017]; root of context hierarchy
2017-10-17 10:20:37 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:37 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:37 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:37 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:37 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:37 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@6411d3c8]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:37 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:37 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@3e1624c7: startup date [Tue Oct 17 10:20:37 MSK 2017]; root of context hierarchy
2017-10-17 10:20:37 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:37 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:37 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:37 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:37 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:37 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@7d070ef5]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:37 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:37 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5445f5ba: startup date [Tue Oct 17 10:20:37 MSK 2017]; root of context hierarchy
2017-10-17 10:20:37 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:37 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:37 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:37 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:37 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:37 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@1aac188d]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:37 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:37 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@1bf39d06: startup date [Tue Oct 17 10:20:37 MSK 2017]; root of context hierarchy
2017-10-17 10:20:37 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:37 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:37 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:37 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:37 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:37 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@10895b16]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:37 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:37 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@4e6f2bb5: startup date [Tue Oct 17 10:20:37 MSK 2017]; root of context hierarchy
2017-10-17 10:20:37 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:37 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:37 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:38 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:38 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:38 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@10f19647]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:38 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:38 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@19650aa6: startup date [Tue Oct 17 10:20:38 MSK 2017]; root of context hierarchy
2017-10-17 10:20:38 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:38 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:38 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:38 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:38 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:38 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@2e6f610d]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:38 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:38 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@23a5818e: startup date [Tue Oct 17 10:20:38 MSK 2017]; root of context hierarchy
2017-10-17 10:20:38 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:38 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:38 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:38 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:38 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:38 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@767a014e]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:38 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:38 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@63c12e52: startup date [Tue Oct 17 10:20:38 MSK 2017]; root of context hierarchy
2017-10-17 10:20:38 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:38 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:38 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:38 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:38 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:38 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@ff23ae7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:38 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:38 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@48b4a043: startup date [Tue Oct 17 10:20:38 MSK 2017]; root of context hierarchy
2017-10-17 10:20:38 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:38 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:38 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:38 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:38 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:38 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@feb98ef]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:38 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:38 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@25673087: startup date [Tue Oct 17 10:20:38 MSK 2017]; root of context hierarchy
2017-10-17 10:20:38 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:38 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:38 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:38 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:38 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:38 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@5a02bfe3]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:38 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:38 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@24eb65e3: startup date [Tue Oct 17 10:20:38 MSK 2017]; root of context hierarchy
2017-10-17 10:20:38 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:38 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:38 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:38 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:38 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:38 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:38 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5c20ffa8] to prepare test instance [kinoview.commonjdbc.dao.FilmDAOTest@1e236278]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 32 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 50 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 60 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 77 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 89 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 92 more
2017-10-17 10:20:38 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:20:38 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2ddb3ae8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79518e00, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3c91530d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7d70638, org.springframework.test.context.transaction.TransactionalTestExecutionListener@732f6050, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6fbc1bb]
2017-10-17 10:20:38 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:39 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@30c4e352: startup date [Tue Oct 17 10:20:39 MSK 2017]; root of context hierarchy
2017-10-17 10:20:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:39 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:39 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:39 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:39 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:39 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3c91530d] to prepare test instance [kinoview.commonjdbc.dao.GenreDAOTest@234cff57]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:39 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@724aefc3: startup date [Tue Oct 17 10:20:39 MSK 2017]; root of context hierarchy
2017-10-17 10:20:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:39 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:39 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:39 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:39 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:39 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3c91530d] to prepare test instance [kinoview.commonjdbc.dao.GenreDAOTest@273a5a8a]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:39 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@10c47c79: startup date [Tue Oct 17 10:20:39 MSK 2017]; root of context hierarchy
2017-10-17 10:20:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:39 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:39 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:39 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:39 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:39 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3c91530d] to prepare test instance [kinoview.commonjdbc.dao.GenreDAOTest@40ac6b76]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:39 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2582b0ef: startup date [Tue Oct 17 10:20:39 MSK 2017]; root of context hierarchy
2017-10-17 10:20:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:39 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:39 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:39 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:39 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:39 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3c91530d] to prepare test instance [kinoview.commonjdbc.dao.GenreDAOTest@4c1d59cd]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:39 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@220c9a63: startup date [Tue Oct 17 10:20:39 MSK 2017]; root of context hierarchy
2017-10-17 10:20:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:39 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:39 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:39 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:39 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:39 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3c91530d] to prepare test instance [kinoview.commonjdbc.dao.GenreDAOTest@38291795]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:39 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:20:39 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3f6f3cc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@180b3819, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@733c464f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47272cd3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73fbdf68, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@32f1fafe]
2017-10-17 10:20:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:39 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@236eccd1: startup date [Tue Oct 17 10:20:39 MSK 2017]; root of context hierarchy
2017-10-17 10:20:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:39 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:39 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:39 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:39 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:39 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@733c464f] to prepare test instance [kinoview.commonjdbc.dao.UserDAOTest@3aed69dd]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:39 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@7a682d35: startup date [Tue Oct 17 10:20:39 MSK 2017]; root of context hierarchy
2017-10-17 10:20:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:39 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:39 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:39 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:39 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:39 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:39 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@733c464f] to prepare test instance [kinoview.commonjdbc.dao.UserDAOTest@6661d8c0]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:39 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:39 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5ef85555: startup date [Tue Oct 17 10:20:39 MSK 2017]; root of context hierarchy
2017-10-17 10:20:39 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:40 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:40 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:40 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:40 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:40 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:40 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:40 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@733c464f] to prepare test instance [kinoview.commonjdbc.dao.UserDAOTest@5696c927]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:40 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:40 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@6acffb2d: startup date [Tue Oct 17 10:20:40 MSK 2017]; root of context hierarchy
2017-10-17 10:20:40 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:40 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:40 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:40 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:40 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:40 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:40 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:40 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@733c464f] to prepare test instance [kinoview.commonjdbc.dao.UserDAOTest@1a21f43f]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:40 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:40 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@7fd99443: startup date [Tue Oct 17 10:20:40 MSK 2017]; root of context hierarchy
2017-10-17 10:20:40 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:40 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:40 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:40 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:40 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:40 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:40 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:40 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@733c464f] to prepare test instance [kinoview.commonjdbc.dao.UserDAOTest@7c1503a3]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:40 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:20:40 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@b5ac0c1: startup date [Tue Oct 17 10:20:40 MSK 2017]; root of context hierarchy
2017-10-17 10:20:40 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:20:40 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:40 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:20:40 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:20:40 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:20:40 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:20:40 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:20:40 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@733c464f] to prepare test instance [kinoview.commonjdbc.dao.UserDAOTest@4b9c411]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 31 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 49 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 59 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 76 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor19.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 88 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 91 more
2017-10-17 10:20:40 ERROR JDBCFactory:34 - Connection to database failed.
2017-10-17 10:21:32 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:21:32 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-17 10:21:32 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:21:33 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:21:33 MSK 2017]; root of context hierarchy
2017-10-17 10:21:33 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:21:33 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:21:33 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:21:33 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:21:33 WARN  JdbcEnvironmentInitiator:132 - HHH000342: Could not obtain connection to query metadata : Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:21:33 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:21:33 INFO  LobCreatorBuilderImpl:63 - HHH000422: Disabling contextual LOB creation as connection was null
2017-10-17 10:21:34 WARN  SqlExceptionHelper:129 - SQL Error: 0, SQLState: 08S01
2017-10-17 10:21:34 ERROR SqlExceptionHelper:131 - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2017-10-17 10:21:34 WARN  GenericApplicationContext:551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
2017-10-17 10:21:34 ERROR TestContextManager:234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810] to prepare test instance [kinoview.commonjdbc.dao.CountryDAOTest@8ab78bc]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'countryDAO': Unsatisfied dependency expressed through field 'sessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 24 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [common-jdbc.xml]: Invocation of init method failed; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 42 more
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:111)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:97)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:329)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:183)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:313)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:452)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:710)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:535)
	at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)
	... 52 more
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:590)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:57)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1606)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:633)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:347)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:219)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)
	... 69 more
Caused by: com.mysql.cj.core.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:54)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:93)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createException(ExceptionFactory.java:133)
	at com.mysql.cj.core.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:149)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:83)
	at com.mysql.cj.mysqla.MysqlaSession.connect(MysqlaSession.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:1726)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:1596)
	... 81 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.cj.core.io.StandardSocketFactory.connect(StandardSocketFactory.java:202)
	at com.mysql.cj.mysqla.io.MysqlaSocketConnection.connect(MysqlaSocketConnection.java:57)
	... 84 more
2017-10-17 10:22:06 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:22:06 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-17 10:22:06 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:22:06 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:22:06 MSK 2017]; root of context hierarchy
2017-10-17 10:22:06 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:22:07 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:22:07 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:22:07 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:22:07 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:22:08 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6f03482] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:22:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@693e4d19 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@286b39c2, testMethod = shouldSave@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@32639b12]; rollback [true]
2017-10-17 10:22:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@693e4d19 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@286b39c2, testMethod = shouldSave@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:08 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:22:06 MSK 2017]; root of context hierarchy
2017-10-17 10:22:19 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:22:19 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-17 10:22:19 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:22:19 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:22:19 MSK 2017]; root of context hierarchy
2017-10-17 10:22:20 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:22:20 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:22:20 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:22:20 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:22:21 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:22:21 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6f03482] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:22:21 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@693e4d19 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@286b39c2, testMethod = shouldFindById@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@32639b12]; rollback [true]
2017-10-17 10:22:21 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@693e4d19 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@286b39c2, testMethod = shouldFindById@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:21 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:22:19 MSK 2017]; root of context hierarchy
2017-10-17 10:22:28 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:22:28 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-17 10:22:28 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:22:28 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:22:28 MSK 2017]; root of context hierarchy
2017-10-17 10:22:28 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:22:29 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:22:29 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:22:29 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:22:29 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:22:30 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6f03482] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:22:30 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@693e4d19 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@286b39c2, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@32639b12]; rollback [true]
2017-10-17 10:22:30 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@693e4d19 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@286b39c2, testMethod = shouldFindByName@CountryDAOTest, testException = org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0, mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:30 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:22:28 MSK 2017]; root of context hierarchy
2017-10-17 10:22:44 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:22:44 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-17 10:22:44 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:22:44 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:22:44 MSK 2017]; root of context hierarchy
2017-10-17 10:22:44 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:22:45 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:22:45 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:22:45 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:22:45 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:22:46 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6f03482] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:22:46 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@693e4d19 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@286b39c2, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@32639b12]; rollback [true]
2017-10-17 10:22:46 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@693e4d19 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@286b39c2, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:46 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:22:44 MSK 2017]; root of context hierarchy
2017-10-17 10:22:52 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:22:52 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@54a097cc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@36f6e879, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a61f5df, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3551a94, org.springframework.test.context.transaction.TransactionalTestExecutionListener@531be3c5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@52af6cff]
2017-10-17 10:22:52 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:22:52 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@8bd1b6a: startup date [Tue Oct 17 10:22:52 MSK 2017]; root of context hierarchy
2017-10-17 10:22:53 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:22:53 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:22:53 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:22:53 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:22:53 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:22:54 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@139982de] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:22:54 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@4ebadd3d, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:22:54 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@4ebadd3d, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:54 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@34cf5a97, testMethod = shouldFindById@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:22:54 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@34cf5a97, testMethod = shouldFindById@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:54 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@4b1abd11, testMethod = shouldFindAllCountries@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:22:54 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@4b1abd11, testMethod = shouldFindAllCountries@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:54 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@6bcbf05b, testMethod = shouldSave@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:22:54 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@6bcbf05b, testMethod = shouldSave@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:54 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@4c9e38, testMethod = shouldFindAllByFilm@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:22:54 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@4c9e38, testMethod = shouldFindAllByFilm@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:22:54 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@8bd1b6a: startup date [Tue Oct 17 10:22:52 MSK 2017]; root of context hierarchy
2017-10-17 10:23:05 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:23:05 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3551a94, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@531be3c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@52af6cff, org.springframework.test.context.support.DirtiesContextTestExecutionListener@735b478, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2c9f9fb0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2096442d]
2017-10-17 10:23:05 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:23:06 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:23:06 MSK 2017]; root of context hierarchy
2017-10-17 10:23:06 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:23:06 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:23:06 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:23:06 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:23:07 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:23:08 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@7eac9008] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@41c204a0, testMethod = shouldUpdateFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@41c204a0, testMethod = shouldUpdateFilm@FilmDAOTest, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@432034a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-17 10:23:08 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'genre_type_genre_name_uindex'
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@432034a, testMethod = shouldSaveBatch@FilmDAOTest, testException = org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@67403656, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-17 10:23:08 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'genre_type_genre_name_uindex'
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@67403656, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@65fd6708, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@65fd6708, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2c306a57, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2c306a57, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4567e53d, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4567e53d, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@1f38957, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-17 10:23:08 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'genre_type_genre_name_uindex'
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@1f38957, testMethod = shouldSave@FilmDAOTest, testException = org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@57ce634f, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@57ce634f, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2a27cb34, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2a27cb34, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7ba1cdbe, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7ba1cdbe, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ec427, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:23:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4ec427, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:23:09 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:23:06 MSK 2017]; root of context hierarchy
2017-10-17 10:24:07 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:24:07 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@54a097cc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@36f6e879, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a61f5df, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3551a94, org.springframework.test.context.transaction.TransactionalTestExecutionListener@531be3c5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@52af6cff]
2017-10-17 10:24:07 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:24:07 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@8bd1b6a: startup date [Tue Oct 17 10:24:07 MSK 2017]; root of context hierarchy
2017-10-17 10:24:07 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:24:08 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:24:08 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:24:08 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:24:08 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:24:09 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@139982de] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:24:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@4ebadd3d, testMethod = shouldFindByID@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:24:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@4ebadd3d, testMethod = shouldFindByID@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:24:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@34cf5a97, testMethod = findAllByFilm@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:24:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@34cf5a97, testMethod = findAllByFilm@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:24:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@67a056f1, testMethod = findAllGenres@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:24:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@67a056f1, testMethod = findAllGenres@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:24:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@1d207fad, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:24:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@1d207fad, testMethod = save@GenreDAOTest, testException = org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0, mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:24:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@6079cf5, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:24:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@6079cf5, testMethod = shouldFindByGenreName@GenreDAOTest, testException = org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0, mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:24:09 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@8bd1b6a: startup date [Tue Oct 17 10:24:07 MSK 2017]; root of context hierarchy
2017-10-17 10:25:33 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:25:33 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2893de87, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55ca8de8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2c34f934, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12d3a4e9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@240237d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@25a65b77]
2017-10-17 10:25:33 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:25:34 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2f177a4b: startup date [Tue Oct 17 10:25:34 MSK 2017]; root of context hierarchy
2017-10-17 10:25:34 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:25:34 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:25:34 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:25:34 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:25:34 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:25:35 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6fb365ed] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:25:36 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@6a0f2853 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@1eff3cfb, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2ab26378 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@46383a78]; rollback [true]
2017-10-17 10:26:01 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@6a0f2853 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@1eff3cfb, testMethod = save@GenreDAOTest, testException = org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0, mergedContextConfiguration = [MergedContextConfiguration@2ab26378 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:26:01 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2f177a4b: startup date [Tue Oct 17 10:25:34 MSK 2017]; root of context hierarchy
2017-10-17 10:26:17 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:26:17 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2893de87, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55ca8de8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2c34f934, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12d3a4e9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@240237d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@25a65b77]
2017-10-17 10:26:17 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:26:17 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2f177a4b: startup date [Tue Oct 17 10:26:17 MSK 2017]; root of context hierarchy
2017-10-17 10:26:17 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:26:18 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:26:18 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:26:18 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:26:18 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:26:19 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6fb365ed] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:26:19 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@5731d3a testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@6a0f2853, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7bac686b testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@279dd959]; rollback [true]
2017-10-17 10:26:22 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@5731d3a testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@6a0f2853, testMethod = save@GenreDAOTest, testException = org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0, mergedContextConfiguration = [MergedContextConfiguration@7bac686b testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:26:22 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2f177a4b: startup date [Tue Oct 17 10:26:17 MSK 2017]; root of context hierarchy
2017-10-17 10:26:35 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:26:35 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2893de87, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55ca8de8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2c34f934, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12d3a4e9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@240237d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@25a65b77]
2017-10-17 10:26:35 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:26:36 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@2f177a4b: startup date [Tue Oct 17 10:26:36 MSK 2017]; root of context hierarchy
2017-10-17 10:26:36 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:26:36 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:26:36 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:26:36 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:26:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:26:37 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6fb365ed] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:26:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@1eff3cfb testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@70c69586, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@f9f3928 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@36c281ed]; rollback [true]
2017-10-17 10:26:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@1eff3cfb testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@70c69586, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@f9f3928 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:26:52 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@2f177a4b: startup date [Tue Oct 17 10:26:36 MSK 2017]; root of context hierarchy
2017-10-17 10:27:12 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:27:12 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-17 10:27:12 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:27:12 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:27:12 MSK 2017]; root of context hierarchy
2017-10-17 10:27:13 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:27:13 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:27:13 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:27:13 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:27:13 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:27:14 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6f03482] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:27:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@693e4d19 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@286b39c2, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@32639b12]; rollback [true]
2017-10-17 10:27:14 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@693e4d19 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@286b39c2, testMethod = shouldFindByGenreName@GenreDAOTest, testException = org.junit.ComparisonFailure: expected:<[]> but was:<[]>, mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:27:14 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:27:12 MSK 2017]; root of context hierarchy
2017-10-17 10:27:27 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:27:27 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-17 10:27:27 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:27:27 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:27:27 MSK 2017]; root of context hierarchy
2017-10-17 10:27:28 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:27:28 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:27:28 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:27:28 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:27:28 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:27:29 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6f03482] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:27:29 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@693e4d19 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@286b39c2, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@32639b12]; rollback [true]
2017-10-17 10:27:29 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@693e4d19 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@286b39c2, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:27:29 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:27:27 MSK 2017]; root of context hierarchy
2017-10-17 10:27:51 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:27:51 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f67b76, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@153f5a29, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7f560810, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69d9c55, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13a57a3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca48474]
2017-10-17 10:27:51 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:27:51 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:27:51 MSK 2017]; root of context hierarchy
2017-10-17 10:27:51 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:27:52 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:27:52 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:27:52 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:27:52 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:27:53 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@6f03482] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:27:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@693e4d19 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@286b39c2, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@32639b12]; rollback [true]
2017-10-17 10:27:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@693e4d19 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@286b39c2, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@75b21c3b testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:27:53 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@5b275dab: startup date [Tue Oct 17 10:27:51 MSK 2017]; root of context hierarchy
2017-10-17 10:27:56 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:27:56 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@54a097cc, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@36f6e879, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5a61f5df, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3551a94, org.springframework.test.context.transaction.TransactionalTestExecutionListener@531be3c5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@52af6cff]
2017-10-17 10:27:56 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:27:56 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@8bd1b6a: startup date [Tue Oct 17 10:27:56 MSK 2017]; root of context hierarchy
2017-10-17 10:27:57 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:27:57 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:27:57 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:27:57 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:27:57 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:27:58 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@139982de] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:27:58 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@4ebadd3d, testMethod = shouldFindByID@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:27:58 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@4ebadd3d, testMethod = shouldFindByID@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:27:58 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@34cf5a97, testMethod = findAllByFilm@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:27:58 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@34cf5a97, testMethod = findAllByFilm@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:27:58 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@67a056f1, testMethod = findAllGenres@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:27:58 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@67a056f1, testMethod = findAllGenres@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:27:58 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@1d207fad, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:27:58 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@1d207fad, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:27:58 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@102d92c4, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:27:58 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@102d92c4, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:27:58 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@8bd1b6a: startup date [Tue Oct 17 10:27:56 MSK 2017]; root of context hierarchy
2017-10-17 10:28:05 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:28:05 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3551a94, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@531be3c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@52af6cff, org.springframework.test.context.support.DirtiesContextTestExecutionListener@735b478, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2c9f9fb0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2096442d]
2017-10-17 10:28:05 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:28:05 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@4b9e13df: startup date [Tue Oct 17 10:28:05 MSK 2017]; root of context hierarchy
2017-10-17 10:28:06 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:28:06 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:28:06 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:28:06 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:28:06 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:28:07 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@139982de] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:28:07 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@4ebadd3d, testMethod = shouldFindById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:28:07 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@4ebadd3d, testMethod = shouldFindById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:07 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@ddf20fd, testMethod = shouldSetStatus@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:28:07 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@ddf20fd, testMethod = shouldSetStatus@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:07 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@40021799, testMethod = deleteByEmail@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:28:07 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:28:07 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@40021799, testMethod = deleteByEmail@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:07 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@736f3e9e, testMethod = shouldDeleteById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:28:07 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@736f3e9e, testMethod = shouldDeleteById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:07 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@60dd3c23, testMethod = shouldFindByEmailOrLogin@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [true]
2017-10-17 10:28:07 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@60dd3c23, testMethod = shouldFindByEmailOrLogin@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:07 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@985696, testMethod = shouldSaveUser@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@3088660d]; rollback [false]
2017-10-17 10:28:07 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@2e3a5237 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@985696, testMethod = shouldSaveUser@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6b04acb2 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:07 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@4b9e13df: startup date [Tue Oct 17 10:28:05 MSK 2017]; root of context hierarchy
2017-10-17 10:28:32 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:28:32 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3551a94, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@531be3c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@52af6cff, org.springframework.test.context.support.DirtiesContextTestExecutionListener@735b478, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2c9f9fb0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2096442d]
2017-10-17 10:28:32 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:28:32 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:28:32 MSK 2017]; root of context hierarchy
2017-10-17 10:28:33 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:28:33 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:28:33 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:28:33 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:28:33 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:28:34 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@7eac9008] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@41c204a0, testMethod = shouldUpdateFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@41c204a0, testMethod = shouldUpdateFilm@FilmDAOTest, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@432034a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@432034a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a2eea2a, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  AbstractBatchImpl:193 - HHH000010: On release of batch it still contained JDBC statements
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a2eea2a, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = javax.persistence.OptimisticLockException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7a2e0858, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7a2e0858, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6892cc6f, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6892cc6f, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@621f89b8, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@621f89b8, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@15bc339, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  AbstractBatchImpl:193 - HHH000010: On release of batch it still contained JDBC statements
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@15bc339, testMethod = shouldSave@FilmDAOTest, testException = javax.persistence.OptimisticLockException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc3f, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:34 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc3f, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:34 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@705f83a7, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:35 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@705f83a7, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:35 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2c56eba5, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:35 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2c56eba5, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:35 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7d685f4e, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:28:35 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7d685f4e, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:35 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:28:32 MSK 2017]; root of context hierarchy
2017-10-17 10:28:42 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:28:42 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:28:42 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:28:42 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:28:42 MSK 2017]; root of context hierarchy
2017-10-17 10:28:43 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:28:43 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:28:43 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:28:43 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:28:43 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:28:44 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:28:44 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:28:44 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-17 10:28:44 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'countries_country_name_uindex'
2017-10-17 10:28:44 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldSave@FilmDAOTest, testException = org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:28:44 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:28:42 MSK 2017]; root of context hierarchy
2017-10-17 10:30:17 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:30:17 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:30:17 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:30:18 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:30:18 MSK 2017]; root of context hierarchy
2017-10-17 10:30:18 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:30:18 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:30:18 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:30:18 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:30:19 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:30:19 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:30:20 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:30:20 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:30:20 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:30:18 MSK 2017]; root of context hierarchy
2017-10-17 10:30:27 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:30:27 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:30:28 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:30:28 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:30:28 MSK 2017]; root of context hierarchy
2017-10-17 10:30:28 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:30:29 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:30:29 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:30:29 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:30:29 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:30:30 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:30:30 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:30:30 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:30:30 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateFilm@FilmDAOTest, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:30:30 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:30:28 MSK 2017]; root of context hierarchy
2017-10-17 10:31:52 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:31:52 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:31:52 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:31:52 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:31:52 MSK 2017]; root of context hierarchy
2017-10-17 10:31:53 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:31:53 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:31:53 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:31:53 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:31:53 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:31:54 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:31:54 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:31:54 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:31:54 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:31:52 MSK 2017]; root of context hierarchy
2017-10-17 10:31:57 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:31:57 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:31:57 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:31:58 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:31:58 MSK 2017]; root of context hierarchy
2017-10-17 10:31:58 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:31:58 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:31:58 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:31:58 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:31:59 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:31:59 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:31:59 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:31:59 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:32:00 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateFilm@FilmDAOTest, testException = org.hibernate.NonUniqueObjectException: A different object with the same identifier value was already associated with the session : [kinoview.commonjdbc.entity.Film#1], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:32:00 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:31:58 MSK 2017]; root of context hierarchy
2017-10-17 10:32:23 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:32:23 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:32:23 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:32:23 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:32:23 MSK 2017]; root of context hierarchy
2017-10-17 10:32:24 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:32:24 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:32:24 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:32:24 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:32:24 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:32:25 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:32:25 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:32:25 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-17 10:32:25 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'countries_country_name_uindex'
2017-10-17 10:32:25 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:32:25 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:32:23 MSK 2017]; root of context hierarchy
2017-10-17 10:32:54 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:32:54 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:32:54 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:32:55 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:32:55 MSK 2017]; root of context hierarchy
2017-10-17 10:32:55 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:32:55 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:32:55 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:32:55 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:32:56 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:32:56 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:32:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:32:57 WARN  SqlExceptionHelper:129 - SQL Error: 1062, SQLState: 23000
2017-10-17 10:32:57 ERROR SqlExceptionHelper:131 - Duplicate entry '' for key 'genre_type_genre_name_uindex'
2017-10-17 10:32:57 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = org.hibernate.exception.ConstraintViolationException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:32:57 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:32:55 MSK 2017]; root of context hierarchy
2017-10-17 10:33:21 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:33:21 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:33:21 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:33:21 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:33:21 MSK 2017]; root of context hierarchy
2017-10-17 10:33:22 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:33:22 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:33:22 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:33:22 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:33:22 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:33:23 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:33:23 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:33:23 INFO  AbstractBatchImpl:193 - HHH000010: On release of batch it still contained JDBC statements
2017-10-17 10:33:23 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldUpdateBatchFilms@FilmDAOTest, testException = javax.persistence.OptimisticLockException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1, mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:33:23 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:33:21 MSK 2017]; root of context hierarchy
2017-10-17 10:34:06 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:34:06 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3551a94, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@531be3c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@52af6cff, org.springframework.test.context.support.DirtiesContextTestExecutionListener@735b478, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2c9f9fb0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2096442d]
2017-10-17 10:34:06 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:34:06 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:34:06 MSK 2017]; root of context hierarchy
2017-10-17 10:34:07 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:34:07 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:34:07 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:34:07 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:34:07 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:34:08 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@7eac9008] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:08 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:34:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@49dbaaf3, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@49dbaaf3, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2d746ce4, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2d746ce4, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7f9ab969, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7f9ab969, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a2eea2a, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a2eea2a, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@66ec9390, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:08 INFO  AbstractBatchImpl:193 - HHH000010: On release of batch it still contained JDBC statements
2017-10-17 10:34:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@66ec9390, testMethod = shouldSave@FilmDAOTest, testException = javax.persistence.OptimisticLockException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@15bc339, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:08 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@15bc339, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:08 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@73044cdf, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@73044cdf, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4c8d45cf, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4c8d45cf, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:09 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4449a60b, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:09 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4449a60b, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:09 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:34:06 MSK 2017]; root of context hierarchy
2017-10-17 10:34:23 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:34:23 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69d9c55, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13a57a3b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7ca48474, org.springframework.test.context.support.DirtiesContextTestExecutionListener@337d0578, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59e84876, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61a485d2]
2017-10-17 10:34:23 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:34:23 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:34:23 MSK 2017]; root of context hierarchy
2017-10-17 10:34:24 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:34:24 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:34:24 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:34:24 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:34:24 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:34:25 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bcec361] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:34:25 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@4fe01805]; rollback [true]
2017-10-17 10:34:25 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2c779e5 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a84bc2a, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@deb3b60 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:25 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@49993335: startup date [Tue Oct 17 10:34:23 MSK 2017]; root of context hierarchy
2017-10-17 10:34:36 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:34:36 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3551a94, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@531be3c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@52af6cff, org.springframework.test.context.support.DirtiesContextTestExecutionListener@735b478, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2c9f9fb0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2096442d]
2017-10-17 10:34:36 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:34:36 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:34:36 MSK 2017]; root of context hierarchy
2017-10-17 10:34:37 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:34:37 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:34:37 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:34:37 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:34:37 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:34:38 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@7eac9008] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:38 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:34:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@49dbaaf3, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@49dbaaf3, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2d746ce4, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2d746ce4, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7f9ab969, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7f9ab969, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a2eea2a, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a2eea2a, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@66ec9390, testMethod = shouldSave@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:38 INFO  AbstractBatchImpl:193 - HHH000010: On release of batch it still contained JDBC statements
2017-10-17 10:34:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@66ec9390, testMethod = shouldSave@FilmDAOTest, testException = javax.persistence.OptimisticLockException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1, mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@15bc339, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:38 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@15bc339, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:38 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@73044cdf, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:39 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@73044cdf, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:39 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4c8d45cf, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:39 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4c8d45cf, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:39 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4449a60b, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:34:39 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4449a60b, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:34:39 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:34:36 MSK 2017]; root of context hierarchy
2017-10-17 10:35:12 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:35:12 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3551a94, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@531be3c5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@52af6cff, org.springframework.test.context.support.DirtiesContextTestExecutionListener@735b478, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2c9f9fb0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2096442d]
2017-10-17 10:35:12 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:35:12 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:35:12 MSK 2017]; root of context hierarchy
2017-10-17 10:35:13 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:35:13 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:35:13 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:35:13 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:35:13 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:35:14 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@7eac9008] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:35:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:14 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:35:14 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4905c46b, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:14 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@3e850122, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@49dbaaf3, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:14 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@49dbaaf3, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2d746ce4, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:14 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2d746ce4, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7f9ab969, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:14 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7f9ab969, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a2eea2a, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:14 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6a2eea2a, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@66ec9390, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:14 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@66ec9390, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:14 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@1a35993f, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:15 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@1a35993f, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:15 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@661db63e, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:15 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@661db63e, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:15 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@c0013b8, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@111610e6]; rollback [true]
2017-10-17 10:35:15 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@38499e48 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@c0013b8, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@127d7908 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:35:15 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@13805618: startup date [Tue Oct 17 10:35:12 MSK 2017]; root of context hierarchy
2017-10-17 10:35:30 INFO  SiteConnector:27 - Page not found: http://kinogo.club/page/1024
2017-10-17 10:35:46 INFO  SiteConnector:27 - Page not found: http://kinogo.club/page/583
2017-10-17 10:36:50 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:36:50 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3532ec19, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@68c4039c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@ae45eb6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59f99ea, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27efef64, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6f7fd0e6]
2017-10-17 10:36:50 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:36:50 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@ff5b51f: startup date [Tue Oct 17 10:36:50 MSK 2017]; root of context hierarchy
2017-10-17 10:36:50 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:36:51 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:36:51 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:36:51 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:36:51 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:36:52 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@305b7c14] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@72ed9aad, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@72ed9aad, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@30135202, testMethod = shouldFindById@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@30135202, testMethod = shouldFindById@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@78411116, testMethod = shouldFindAllCountries@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@78411116, testMethod = shouldFindAllCountries@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@5560bcdf, testMethod = shouldSave@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@5560bcdf, testMethod = shouldSave@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@426e505c, testMethod = shouldFindAllByFilm@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@1d207fad testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@426e505c, testMethod = shouldFindAllByFilm@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@17d238b1 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:36:52 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7f02251, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@dffa30b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4d8126f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6d3c232f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6b587673, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1bcf67e8]
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@ccd1bc3, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@ccd1bc3, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@14e2e1c3, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@14e2e1c3, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@53e3a87a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@53e3a87a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dcd5639, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6dcd5639, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@5ce4369b, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@5ce4369b, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@73017a80, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@73017a80, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@5c0f79f0, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@5c0f79f0, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@e344ad3, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@e344ad3, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3900dc, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2e3900dc, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@13ee97af, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@131fcb6f testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@13ee97af, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7b2a3ff8 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:52 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:36:52 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1da5c19d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3e4f2300, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@e706aa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@25e6c22a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16fc5622, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@516c20de]
2017-10-17 10:36:52 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@52d63b7e, testMethod = shouldFindByID@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:52 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@52d63b7e, testMethod = shouldFindByID@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@43ab0659, testMethod = findAllByFilm@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@43ab0659, testMethod = findAllByFilm@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@4491eaeb, testMethod = findAllGenres@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@4491eaeb, testMethod = findAllGenres@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@738a39cc, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@738a39cc, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@192f5f39, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@5310e451 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@192f5f39, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6906be0f testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:36:53 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1d622556, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4b9f7edc, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@70ee1963, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2e0652ab, org.springframework.test.context.transaction.TransactionalTestExecutionListener@22c29aa8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@129b69b2]
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@2152fde5, testMethod = shouldFindById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@2152fde5, testMethod = shouldFindById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@3a7469ca, testMethod = shouldSetStatus@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@3a7469ca, testMethod = shouldSetStatus@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@846b47, testMethod = deleteByEmail@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@846b47, testMethod = deleteByEmail@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@4392362c, testMethod = shouldDeleteById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@4392362c, testMethod = shouldDeleteById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@3cad24ae, testMethod = shouldFindByEmailOrLogin@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [true]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@3cad24ae, testMethod = shouldFindByEmailOrLogin@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@6d31f14, testMethod = shouldSaveUser@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@77bb0ab5]; rollback [false]
2017-10-17 10:36:53 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@29519337 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@6d31f14, testMethod = shouldSaveUser@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@12be4f83 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:36:53 INFO  JDBCFactory:28 - connection to database created
2017-10-17 10:36:53 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@ff5b51f: startup date [Tue Oct 17 10:36:50 MSK 2017]; root of context hierarchy
2017-10-17 10:45:53 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:45:53 INFO  DefaultTestContextBootstrapper:209 - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2017-10-17 10:45:53 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6f1fba17, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@185d8b6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@67784306, org.springframework.test.context.transaction.TransactionalTestExecutionListener@335eadca, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@210366b4]
2017-10-17 10:45:53 INFO  XmlBeanDefinitionReader:317 - Loading XML bean definitions from class path resource [common-jdbc.xml]
2017-10-17 10:45:53 INFO  GenericApplicationContext:583 - Refreshing org.springframework.context.support.GenericApplicationContext@d44fc21: startup date [Tue Oct 17 10:45:53 MSK 2017]; root of context hierarchy
2017-10-17 10:45:53 INFO  DriverManagerDataSource:133 - Loaded JDBC driver: com.mysql.cj.jdbc.Driver
2017-10-17 10:45:53 INFO  Version:45 - HHH000412: Hibernate Core {5.2.11.Final}
2017-10-17 10:45:53 INFO  Environment:213 - HHH000206: hibernate.properties not found
2017-10-17 10:45:54 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-17 10:45:54 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2017-10-17 10:45:55 INFO  HibernateTransactionManager:378 - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@67080771] of Hibernate SessionFactory for HibernateTransactionManager
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@4eb30d44, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@4eb30d44, testMethod = shouldFindByName@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@7c1812b3, testMethod = shouldFindById@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@7c1812b3, testMethod = shouldFindById@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@12aa4996, testMethod = shouldFindAllCountries@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@12aa4996, testMethod = shouldFindAllCountries@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@5fc930f0, testMethod = shouldSave@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@5fc930f0, testMethod = shouldSave@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@3bec2275, testMethod = shouldFindAllByFilm@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@3c904f1e testClass = CountryDAOTest, testInstance = kinoview.commonjdbc.dao.CountryDAOTest@3bec2275, testMethod = shouldFindAllByFilm@CountryDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@576c5536 testClass = CountryDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:45:55 INFO  DefaultTestContextBootstrapper:209 - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2017-10-17 10:45:55 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@ce9b9a9, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4ad3d266, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3533df16, org.springframework.test.context.transaction.TransactionalTestExecutionListener@15d0849, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4038cd3a]
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@167279d1, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@167279d1, testMethod = shouldFindByName@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7c891ba7, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7c891ba7, testMethod = shouldFindByID@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@1416a80a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@1416a80a, testMethod = shouldSaveBatch@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@69a2b3b6, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@69a2b3b6, testMethod = shouldFindRange@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@151ef57f, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@151ef57f, testMethod = shouldCountFilmsInDB@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4e6f2bb5, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@4e6f2bb5, testMethod = shouldSetStatus@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6cd166b8, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:55 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@6cd166b8, testMethod = shouldAddFilmToFavorites@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:55 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7be7e15, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@7be7e15, testMethod = shouldFindLoadedFilms@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@686e7513, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@686e7513, testMethod = shouldDeleteFilm@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2ec92631, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@66ad7bf0 testClass = FilmDAOTest, testInstance = kinoview.commonjdbc.dao.FilmDAOTest@2ec92631, testMethod = shouldSetForeignKeyChecks@FilmDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@14ac77b9 testClass = FilmDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:45:56 INFO  DefaultTestContextBootstrapper:209 - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2017-10-17 10:45:56 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6fdc2db6, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5be69f7e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@64544ee4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16d61071, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18692e80]
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@1e7cfd49, testMethod = shouldFindByID@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@1e7cfd49, testMethod = shouldFindByID@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@3400d6fa, testMethod = findAllByFilm@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@3400d6fa, testMethod = findAllByFilm@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@3639b04, testMethod = findAllGenres@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@3639b04, testMethod = findAllGenres@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@5c740c5a, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@5c740c5a, testMethod = save@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@48d31d25, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@2cacb445 testClass = GenreDAOTest, testInstance = kinoview.commonjdbc.dao.GenreDAOTest@48d31d25, testMethod = shouldFindByGenreName@GenreDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@779b4f9c testClass = GenreDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  DefaultTestContextBootstrapper:260 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-10-17 10:45:56 INFO  DefaultTestContextBootstrapper:209 - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
2017-10-17 10:45:56 INFO  DefaultTestContextBootstrapper:187 - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2f8f40cc, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@14d81f2c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5dd3727c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@774013dc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@229cb4d8]
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@5dce5c03, testMethod = shouldFindById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@5dce5c03, testMethod = shouldFindById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@174b8d0e, testMethod = shouldSetStatus@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@174b8d0e, testMethod = shouldSetStatus@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@4627dfda, testMethod = deleteByEmail@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@4627dfda, testMethod = deleteByEmail@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@20a946d9, testMethod = shouldDeleteById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@20a946d9, testMethod = shouldDeleteById@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@28b2e4d8, testMethod = shouldFindByEmailOrLogin@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [true]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Rolled back transaction for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@28b2e4d8, testMethod = shouldFindByEmailOrLogin@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  TransactionContext:101 - Began transaction (1) for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@24e1e90a, testMethod = shouldSaveUser@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate5.HibernateTransactionManager@2b4786dd]; rollback [false]
2017-10-17 10:45:56 INFO  TransactionContext:136 - Committed transaction for test context [DefaultTestContext@7d3bcd3 testClass = UserDAOTest, testInstance = kinoview.commonjdbc.dao.UserDAOTest@24e1e90a, testMethod = shouldSaveUser@UserDAOTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@76e9eed8 testClass = UserDAOTest, locations = '{classpath:common-jdbc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
2017-10-17 10:45:56 INFO  JDBCFactory:28 - connection to database created
2017-10-17 10:45:56 INFO  GenericApplicationContext:984 - Closing org.springframework.context.support.GenericApplicationContext@d44fc21: startup date [Tue Oct 17 10:45:53 MSK 2017]; root of context hierarchy
